<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Zadanko string</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">


</head>

<body>
    <header>
        <h1 class="text-center">Metody obiektu string</h1>
    </header>
    <main class="border border-light m-5">
        <section>
            <div class="row">
                <label for="te">Podaj tekst</label><input type="text" id="te"><br>
                <label for="pa">Podaj parametry</label><input type="text" id="pa"><br>
            </div>
            <section class="text-center m-4">
                <div></div>
            </section>
            <div class="row">
                <input type="button" value="length" class="btn btn-secondary m-1">
                <input type="button" value="charAt" class="btn btn-secondary m-1">
                <input type="button" value="charCodeAt" class="btn btn-secondary m-1">
                <input type="button" value="toUpperCase" class="btn btn-secondary m-1">
                <input type="button" value="toLowerCase" class="btn btn-secondary m-1">
                <input type="button" value="indexOf" class="btn btn-secondary m-1">
                <input type="button" value="lastIndexOf" class="btn btn-secondary m-1">
                <input type="button" value="substr" class="btn btn-secondary m-1">
                <input type="button" value="substring" class="btn btn-secondary m-1">
                <input type="button" value="slice" class="btn btn-secondary m-1">
                <input type="button" value="replace" class="btn btn-secondary m-1">
            </div>
        </section>


    </main>



    <script>
        const tekst = document.querySelector("input").value
        const parametr = document.querySelectorAll("input")[1]
        const pole = document.querySelectorAll('div')[1]
        const len = document.querySelectorAll("input")[2]
        const cha = document.querySelectorAll("input")[3]
        const chCo = document.querySelectorAll("input")[4]
        const up = document.querySelectorAll("input")[5]
        const dow = document.querySelectorAll("input")[6]
        const inO = document.querySelectorAll("input")[7]
        const laO = document.querySelectorAll("input")[8]
        const su = document.querySelectorAll("input")[9]
        const sub = document.querySelectorAll("input")[10]
        const sl = document.querySelectorAll("input")[11]
        const re = document.querySelectorAll("input")[12]
        const tablica = ['Zwraca ilość znaków ciągu tekstu.',
            'Zwraca określony znak z łańcucha znaków.',
            'Zwraca liczbę oznaczającą wartość Unicode znaku o podanym indeksie.',
            'Zwraca wartość wywołującego łańcucha znaków, skonwertowaną na duże litery.',
            'Zwraca wartość wywołującego łańcucha znaków, skonwertowaną na małe litery.',
            'Zwraca pierwszy (najmniejszy) indeks elementu w tablicy równego podanej wartości lub -1, gdy nie znaleziono takiego elementu.',
            'Zwraca ostatni indeks, pod którym podany element może być znaleziony w tablicy, lub -1 jeśli nie jest obecny. Tablica jest przeszukiwana od końca, zaczynając od indeksu fromIndex',
            'Zwraca określoną liczbę początkowych znaków w łańcuchu znaków w określonej lokalizacji.',
            'Zwraca podciąg obiektu String.',
            'Wydobywa fragment tablicy i zwraca go jako nową tablicę.',
            '.'
        ]

        len.addEventListener('click', function () {
            //let a = tekst.value
            pole.innerHTML = "Dugos twojego tekstu: " + tekst.length

        })
        cha.addEventListener('click', function () {

            const pa = parseInt(parametr.value) - 1
            if (Number.isNaN(pa) || pa < 0 || pa > tekst.length) {
                pole.innerHTML = "Parametr jest błędnie podany"

            } else {
                pole.innerHTML = "Znak na pozycji " + parametr.value + ": " + tekst.charAt(pa)
            }
        })
        chCo.addEventListener('click', function () {
            const pa = parseInt(parametr.value) - 1
            if (Number.isNaN(pa) || pa < 0 || pa > tekst.length) {
                pole.innerHTML = "Parametr jest błędnie podany"

            } else {
                pole.innerHTML = "Kod znaku na pozycji " + parametr.value + ": " + tekst.charCodeAt(pa)
            }
        })
        up.addEventListener('click', function () {
            pole.innerHTML = tekst.toUpperCase()
        })
        dow.addEventListener('click', function () {
            pole.innerHTML = tekst.toLowerCase()
        })
        inO.addEventListener('click', function () {
            let k = tekst.indexOf(parametr.value)
            console.log(k)
            if (k > 0) {
                pole.innerHTML = "Szukana fraza znajduje się na pozycji: " + (k + 1)

            } else {
                pole.innerHTML = "Błędny parametr"
            }

        })
        laO.addEventListener('click', function () {
            let k = tekst.lastIndexOf(parametr.value)
            console.log(k)
            if (k > 0) {
                pole.innerHTML = "Szukana fraza znajduje sie na pozycji(szukana jest ostatnią spotkaną): " + (
                    k + 1)
            } else {
                pole.innerHTML = "Błędny parametr"
            }

        })
        su.addEventListener('click', function () {
            let tab = parametr.value.split(" ")
            if (tab[0] >= 0 && tab[1] < tekst.length) {
                pole.innerHTML = tekst.substr(tab[0], tab[1])
            } else {
                pole.innerHTML = "Błęde parametry"
            }

        })
        sub.addEventListener('click', function () {
            let tab = parametr.value.split(" ")
            if (tab[0] >= 0 && tab[1] < tekst.length) {
                pole.innerHTML = tekst.substring(tab[0], tab[1])
            } else {
                pole.innerHTML = "Błędne parametry"
            }

        })
        sl.addEventListener('click', function () {

            let tab = parametr.value.split(" ")
            if (tab[0] >= 0 && tab[1] < tekst.length) {
                pole.innerHTML = tekst.slice(tab[0], tab[1])
            } else {
                pole.innerHTML = "Błędne parametry"
            }
        })
        re.addEventListener('click', function () {
            let tab = parametr.value.split(" ")
            pole.innerHTML = tekst.replace(tab[0], tab[1])
        })
    </script>

</body>

</html>